<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Fragment" /><meta name="author" content="seyoung" /><meta property="og:locale" content="en" /><meta name="description" content="프래그먼트" /><meta property="og:description" content="프래그먼트" /><link rel="canonical" href="https://sey2.github.io/posts/Fragment/" /><meta property="og:url" content="https://sey2.github.io/posts/Fragment/" /><meta property="og:site_name" content="Se Young" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-09T02:48:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Fragment" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@seyoung" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"seyoung"},"dateModified":"2022-01-09T02:48:00+09:00","datePublished":"2022-01-09T02:48:00+09:00","description":"프래그먼트","headline":"Fragment","mainEntityOfPage":{"@type":"WebPage","@id":"https://sey2.github.io/posts/Fragment/"},"url":"https://sey2.github.io/posts/Fragment/"}</script><title>Fragment | Se Young</title><link rel="apple-touch-icon" sizes="200x200" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="42x42" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="26x26" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Se Young"><meta name="application-name" content="Se Young"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Se Young</a></div><div class="site-subtitle font-italic">CS, Android, etc .. diary</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/sey2" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['casio2978','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Fragment</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Fragment</h1><div class="post-meta text-muted"><div> By <em> <a href="https://instagram.com/casio2978">Se Young Park</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-01-09 02:48:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 9, 2022, 2:48 AM +0900" >Jan 9, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2634 words"> <em>14 min</em> read</span></div></div></div><div class="post-content"><h2 id="프래그먼트">프래그먼트<a href="#프래그먼트" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>같은 레이아웃을 여러 화면에 사용한다면 화면을 구성하는 XML 레이아웃 파일의 코드와 기능을</p><p>동작시키는 소스 코드가 중복될 수 밖에 없다.</p><p>이렇게 화면 안에 들어가는 레이아웃이 중복되는 문제를 해결 하기 위해 부분 화면을 위한 레이아웃이나<br /></p><p>소스 코드를 한 번만 정의하고 재사용할 수 있도록 만든것 이 <strong>프래그먼트이다.</strong></p><p><strong>프래그먼트 사용 목적</strong></p><ul><li>분할된 화면들을 독립적으로 구성하기 위해 사용함<li>분할된 화면들의 상태를 관리하기 위해 사용함. <br /></ul><p><strong>프래그먼트는 다음과 같이 동작한다.</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148650432-5bb7cbae-06f3-44e0-9dce-320e180022fa.PNG" alt="1" data-proofer-ignore/></p><p>왼쪽은 액티비티가 동작하는 방식인데, 액티비티는 앱 구성 요소이므로 안드로이드 시스템에서 관리한다.</p><p>즉 액티비티 매니저가 액티비티의 동작 순서나 처리 방식을 결정한다.</p><p>또한 액티비티가 시스템에서 관리되기 때문에 시스템이 이해하는 형식으로 명령이나 데이터를</p><p>만들어 보내야 하는데, 인텐트가 그 역할을 한다.</p><p>오른쪽은 프래그먼트가 동작하는 방식인데 액티비티와 유사하다.</p><p>액티비티 매니저 대신 프래그먼트 매니저가 있고, 액티비티가 시스템 역할을 한다.</p><p>그리고 프래그먼트에서는 인텐트를 사용하지 않는데 그 이유는 인텐트는 시스템에서 이해하는 객체여서</p><p>프래그먼트와 액티비티 사이에 전달하게 만드는것은 바람직하지 않기 때문이다.</p><p>대신 인텐트대신 메서드를 만들어 메서드를 호출하는 방식을 사용한다.</p><p><strong>프래그먼트는 액티비티 위에 올라가 있어 액티비티를 전환하지 않고도 <br /><br /> 훨씬 가볍게 화면 전환 효과를 낼 수 있다.</strong></p><h2 id="프래그먼트-사용하기">프래그먼트 사용하기<a href="#프래그먼트-사용하기" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>프래그먼트도 부분 화면이므로 화면에 뷰들을 배치할 때는 XML 레이아웃으로 만든다.</p><p>그 다음에는 프래그먼트를 위한 자바 소스를 만들어주고 Fragment 클래스를 상속하여 만들 수 있다.</p><p>클래스까지 만들었으면 XML 레이아웃 파일의 내용을 Java 파일과 매칭하는 과정이 필요하다.</p><p>그런데 프래그먼트에는 setContentView 메서드가 없고 대신 <br /></p><p>LayoutInflater를 사용해 인플레이션을 진행해야 한다.</p><p>XML 레이아웃 파일의 내용을 인플레이션 한 후 클래스에서 사용하도록 하는 코드는 onCreateView 메서드 안에</p><p>들어간다. 이 메서드는 콜백 메서드로 인플레이션이 필요한 시점에 자동으로 호출 된다.</p><p><strong>프래그먼트 파일을 생성해준다</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148651659-58b5020a-f3f9-4ecc-b8c9-e6ffed6e1bb1.jpg" alt="1" data-proofer-ignore/></p><p><strong>이름을 설정한다</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148651594-eb23bc8d-4261-4daf-9188-93a00520cbcd.PNG" alt="2" data-proofer-ignore/></p><p><strong>최상위 레이아웃을 LinearLayout(vertical)으로 바꾸고 텍스트 뷰 삭제한다.</strong></p><p><strong>텍스트 뷰와 버튼을 추가한 후 MainFragment.java 파일에서 onCreateView 메서드만 남겨 놓는다.</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainFragment</span> <span class="kd">extends</span> <span class="nc">Fragment</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                             <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>

        <span class="cm">/*이 메서드의 매개변수에 LayoutInflater 객체가 전달되므로 inflate 메서드를 바로 호출 가능
          inflate 메서드의 첫 번째 매개변수에는 XML 레이아웃 파일이되고
          두 번째 매개 변수는 이 XML 레이아웃이 설정 될 뷰 그룹 객체가 된다.
          즉 container가 이 프래그먼트의 가장 상위 레이아웃이다.*/</span>

        <span class="k">return</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment_main</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="c1">// 뷰 그룹 객체 반환 </span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /> 그 후 activity_main.xml 파일을 열과 다음과 같이 코드를 수정한다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>  
<span class="nt">&lt;FrameLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>  
  <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>  
  <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>  
  <span class="na">android:id=</span><span class="s">"@+id/container"</span>  
  <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>  
  <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>  
  <span class="na">tools:context=</span><span class="s">".MainActivity"</span><span class="nt">&gt;</span>  
  
 <span class="nt">&lt;fragment</span>  
  <span class="na">android:id=</span><span class="s">"@+id/mainFragment"</span>  
  <span class="na">android:name=</span><span class="s">"org.techtown.samplefragment.MainFragment"</span>  
  <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>  
  <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">/&gt;</span>  
  
<span class="nt">&lt;/FrameLayout&gt;</span>
</pre></table></code></div></div><p>프래그먼트는 뷰와 달라서 뷰를 담고 있는 공간만 확보한다.</p><p>따라서 태그 이름으로 프래그먼트의 이름을 사용할 수 없으며, name 속성에 새로 만든</p><p>MainFragment의 이름을 설정한다. 프래그 먼트의 이름을 설정할 때는 <br /></p><p>패키지 이름을 포함한 이름으로 설정한다.</p><p><strong>결과</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148651591-fea0555b-40b3-4728-bd04-bb73017c590b.PNG" alt="3" data-proofer-ignore/></p><p>이렇게 하면 activity_main.xml 위에 fragment_main.xml 파일이 위에 올라가게 된다.</p><p>위 과정을 세 줄 요약하면 아래와 같다.</p><p><strong>1. 프래그 먼트를 위한 XML 레이아웃 파일 만들기</strong></p><p><strong>2. 프래그먼트 클래스 만들기</strong></p><p><strong>3. 프래그먼트를 액티비티의 XML 레이아웃에 추가하기</strong></p><h3 id="프래그먼트-메소드-정리">프래그먼트 메소드 정리<a href="#프래그먼트-메소드-정리" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">final</span> <span class="nc">Activity</span> <span class="nf">getActivity</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">이</span> <span class="n">프래그먼트를</span> <span class="n">포함하는</span> <span class="n">액티비티를</span> <span class="n">반환함</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="nc">FragmentManager</span> <span class="nf">getFragmentManager</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">이</span> <span class="n">프래그먼트를</span> <span class="n">포함하는</span> <span class="n">액티비티에서</span> <span class="n">프래그먼트</span> <span class="n">객체들과</span> <span class="n">관련된</span> <span class="n">프래그먼트</span> <span class="n">매니저를</span> <span class="n">반환함</span><span class="o">.</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="nc">Fragment</span> <span class="nf">getParentFragment</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">이</span> <span class="n">프래그먼트를</span> <span class="n">포함하는</span> <span class="n">부모가</span> <span class="n">프래그먼트일</span> <span class="n">경우</span> <span class="n">리턴함</span><span class="o">.</span> <span class="n">액티비티이면</span> <span class="n">null을</span> <span class="n">반환</span><span class="o">.</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">이</span> <span class="n">프래그먼트</span> <span class="nc">ID를</span> <span class="n">반환함</span><span class="o">.</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="nf">FragmentTransaction</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">프래그먼트를</span> <span class="n">변경하기</span> <span class="n">위한</span> <span class="n">트랜잭션을</span> <span class="n">시작함</span><span class="o">.</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">Fragment</span> <span class="nf">findFragmentById</span> <span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span>
 <span class="o">-&gt;</span> <span class="nc">ID를</span> <span class="n">이용해</span> <span class="n">프래그먼트</span> <span class="n">객체를</span> <span class="n">찾음</span><span class="o">.</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="nc">Fragment</span> <span class="nf">findFragmentByTag</span> <span class="o">(</span><span class="nc">String</span> <span class="n">tag</span><span class="o">)</span>
 <span class="o">-&gt;</span> <span class="n">태그</span> <span class="n">정보를</span> <span class="n">사용해</span> <span class="n">프래그먼트</span> <span class="n">객체를</span> <span class="n">찾음</span><span class="o">.</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">boolean</span> <span class="nf">executePendingTransactions</span><span class="o">()</span>
 <span class="o">-&gt;</span> <span class="n">트랜잭션은</span> <span class="n">commit</span> <span class="n">메서드를</span> <span class="n">호출하면</span> <span class="n">실행되지만</span> <span class="n">비동기</span><span class="o">(</span><span class="n">asynchronous</span><span class="o">)</span> <span class="n">방식으로</span>
    <span class="n">실행되므로</span> <span class="n">즉시</span> <span class="n">실행하고</span> <span class="n">싶다면</span> <span class="n">이</span> <span class="n">메서드를</span> <span class="n">추가로</span> <span class="n">호출함</span><span class="o">.</span>
</pre></table></code></div></div><hr /><h3 id="메뉴-프래그먼트-만들고-화면-전환-예시">메뉴 프래그먼트 만들고 화면 전환 예시<a href="#메뉴-프래그먼트-만들고-화면-전환-예시" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>위와 같이 메뉴 프래그먼트 파일을 생성해주고 아래와 같이 코드를 수정해준다.</p><p><strong>MainActivity.java</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>
    <span class="nc">MainFragment</span> <span class="n">mainFragment</span><span class="o">;</span>
    <span class="nc">MenuFragment</span> <span class="n">menuFragment</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="n">mainFragment</span>  <span class="o">=</span> <span class="o">(</span><span class="nc">MainFragment</span><span class="o">)</span> <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">findFragmentById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">mainFragment</span><span class="o">);</span>
        <span class="n">menuFragment</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MenuFragment</span><span class="o">();</span>
     <span class="o">}</span>

     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFragmentChanged</span><span class="o">(</span><span class="kt">int</span> <span class="n">idx</span><span class="o">){</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">idx</span> <span class="o">==</span><span class="mi">0</span> <span class="o">)</span>
            <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">replace</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">container</span><span class="o">,</span> <span class="n">menuFragment</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">idx</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
            <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">replace</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">container</span><span class="o">,</span><span class="n">mainFragment</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>

     <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /><br /> <strong>MainFragment.java</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainFragment</span> <span class="kd">extends</span> <span class="nc">Fragment</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                             <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ViewGroup</span> <span class="n">rootView</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ViewGroup</span><span class="o">)</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment_main</span><span class="o">,</span>
                <span class="n">container</span><span class="o">,</span><span class="kc">false</span><span class="o">);</span>

        <span class="nc">Button</span> <span class="n">button</span> <span class="o">=</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">button</span><span class="o">);</span>
        <span class="n">button</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">((</span><span class="n">v</span><span class="o">)-&gt;{</span>
            <span class="nc">MainActivity</span> <span class="n">activity</span> <span class="o">=</span> <span class="o">(</span><span class="nc">MainActivity</span><span class="o">)</span> <span class="n">getActivity</span><span class="o">();</span>
            <span class="n">activity</span><span class="o">.</span><span class="na">onFragmentChanged</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="o">});</span>

        <span class="k">return</span> <span class="n">rootView</span><span class="o">;</span>
        <span class="c1">// 뷰 그룹 객체 반환</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /><br /></p><p><strong>MenuFragment.java</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MenuFragment</span> <span class="kd">extends</span> <span class="nc">Fragment</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                             <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">ViewGroup</span> <span class="n">rootView</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ViewGroup</span><span class="o">)</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment_menu</span><span class="o">,</span>
                <span class="n">container</span><span class="o">,</span><span class="kc">false</span><span class="o">);</span>

        <span class="nc">Button</span> <span class="n">button1</span> <span class="o">=</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">button1</span><span class="o">);</span>
        <span class="n">button1</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">((</span><span class="n">v</span><span class="o">)-&gt;{</span>
            <span class="nc">MainActivity</span> <span class="n">activity</span> <span class="o">=</span> <span class="o">(</span><span class="nc">MainActivity</span><span class="o">)</span> <span class="n">getActivity</span><span class="o">();</span>
            <span class="n">activity</span><span class="o">.</span><span class="na">onFragmentChanged</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">});</span>


        <span class="k">return</span> <span class="n">rootView</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><p><br /><br /> <strong>액티비티와 프래그먼트가 의사소통하는 방식</strong> <img data-src="https://user-images.githubusercontent.com/54762273/148653407-f9e9c64a-def8-4cc1-9ef0-723c37682917.jpg" alt="1" data-proofer-ignore/></p><hr /><p><strong>결과</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148653314-2834632c-d17c-492a-bce1-e252beb6faf1.gif" alt="ezgif com-gif-maker" data-proofer-ignore/></p><p><br /><br /></p><h2 id="프래그먼트의-생명주기">프래그먼트의 생명주기<a href="#프래그먼트의-생명주기" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>프래그먼트는 액티비티를 본떠 만들어서 액티비티처럼 독립적으로 동작하도록 하는 생명주기 메서드가 있다.</p><p>프래그먼트를 사용하는 목적 중의 하나가 분할된 화면들의 상태를 관리하는 것인데</p><p>이것을 가능하게 하는 것이 생명주기 메서드이다.</p><p>즉, 액티비티 안에 들어있는 프래그먼트도 필요할 때 화면에 보이거나 보이지 않게 되므로</p><p>액티비티 처럼 각각의 상태가 관리되는 것이 필요하다.</p><p>한 가지 주의 해야할 점은 프래그먼트는 액티비티 안에 추가되어 사용되면서 동시에 액티비티에</p><p>종속되어 있어 프래그먼트와 액티비티가 연결되어야 초기화 될 수 있다.</p><p>이 때문에 new 연산자를 사용해 프래그먼트 객체를 만드는 시점과 onCreate 메서드가 호출되는</p><p>시점이 달라진다. onAttach 메서드가 호출될 때 파라미터로 전달되는 액티비티 객체 위에</p><p>프래그먼트가 올라가 있게 된다.</p><p><strong>즉, 액티비티를 위해 설정해야 하는 정보들은 onAttach 메서드에서 처리해야함</strong></p><p><br /><br /></p><p><strong>화면에 보이기 전에 호출되는 상태 메서드</strong></p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">메서드<th style="text-align: center">설명<tbody><tr><td style="text-align: center">onAttach(Activity)<td style="text-align: center">프래그먼트가 액티비티와 연결될 때 호출됨<tr><td style="text-align: center">onCreate(Bundle)<td style="text-align: center">프래그먼트가 초기화 될 때 호출된다. <br /> <strong>주의! new 연산자를 이용해 새로운 프래그먼트 객체를 만드는 시점이 아님!</strong><tr><td style="text-align: center">onCreateView(LayoutInflator,ViewGroup, Bundle)<td style="text-align: center">프래그먼트와 관련되는 뷰 계층을 만들어 리턴함.<tr><td style="text-align: center">onActivityCreated(Bundle)<td style="text-align: center">프래그먼트와 연결된 액티비티가 onCreate 메서드의 <br />작업을 완료 했을 때 호출됨.<tr><td style="text-align: center">onStart()<td style="text-align: center">프래그먼트와 연결된 액티비티가 onStart되어 사용자에게 프래그먼트가 보일 때 호출됨<tr><td style="text-align: center">onResume()<td style="text-align: center">프래그먼트와 연결된 액티비티가 onResume되어 사용자와 상호작용할 수 있을 때 호출됨</table></div><p><br /><br /> <strong>중지되면서 호출되는 메서드</strong></p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">메서드<th style="text-align: center">설명<tbody><tr><td style="text-align: center">onPause()<td style="text-align: center">프래그먼트와 연결된 액티비티가 onPause되어 사용자와 상호작용을 중지할 때 호출됨.<tr><td style="text-align: center">onStop<td style="text-align: center">프래그먼트와 연결된 액티비티가 onStop되어 화면에서 더 이상 보이지 않을 때나 <br />프래그먼트의 기능이 중지되었을 때 호출됨<tr><td style="text-align: center">onDestoryView()<td style="text-align: center">프래그먼트와 관련된 뷰 리소스를 해체할 수 있도록 호출됨<tr><td style="text-align: center">onDestory()<td style="text-align: center">프래그먼트의 상태를 마지막으로 정리할 수 있도록 호출됨<tr><td style="text-align: center">onDetach()<td style="text-align: center">프래그먼트가 액티비티와 연결을 끊기 바로 전에 호출됨</table></div><p><br /><br /></p><p><strong>프래그먼트 수명 주기</strong></p><p><img data-src="https://user-images.githubusercontent.com/54762273/148654113-ca6d46c1-e0d9-4fe7-ba9e-820db2b3418c.PNG" alt="1" data-proofer-ignore/></p><p>onAttach와 onDetach는 프래그먼트가 액티비티 위에 올라갈 때와 떨어져 나올 때 호출된다.</p><p><strong>마지막으로 프래그먼트 객체가 new 연산자로 만들어 졌더라도 액티비티 위에 올라가기 전까지</strong></p><p><strong>동작하지 않는 점을 기억하자.</strong></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/navigation/'>Navigation</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/fragment/" class="post-tag no-text-decoration" >fragment</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Fragment - Se Young&url=https://sey2.github.io/posts/Fragment/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Fragment - Se Young&u=https://sey2.github.io/posts/Fragment/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Fragment - Se Young&url=https://sey2.github.io/posts/Fragment/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="sey2/sey2.github.io" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/basic4/">코틀린 기본 문법 (함수)</a><li><a href="/posts/back-13565/">백준 침투</a><li><a href="/posts/back-18352/">특정 거리의 도시 찾기 (18352)</a><li><a href="/posts/programmers-exam/">프로그래머스 모의고사</a><li><a href="/posts/programmers-rotto/">프로그래머스 로또의 최고 순위와 최저 순위</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ViewFragment/"><div class="card-body"> <em class="timeago small" date="2022-01-09 19:41:00 +0900" >Jan 9, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>프래그먼트로 화면 만들기</h3><div class="text-muted small"><p> 프래그먼트로 화면 만들기 MainActivity에 버튼을 3개 추가 한 후 Fragment 파일을 추가 해준다. ListFragment.java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 ...</p></div></div></a></div><div class="card"> <a href="/posts/LifeCycle/"><div class="card-body"> <em class="timeago small" date="2022-01-09 00:20:00 +0900" >Jan 9, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Activity Life Cycle</h3><div class="text-muted small"><p> 프로세스와 테스크 프로세스는 독립적인 하나의 상자와 같아서 다른 프로세스와 정보를 공유할 수 없다. 따라서 하나의 프로세스에서 다른 프로세스의 화면을 띄우려면 시스템의 도움이 필요하다. 시스템에서 액티비티의 각종 정보를 저장 해두기 위해 태스크라는 것을 만든다. 시스템은 알아서 태스크를 관리하지만 우리가 직접 제어해야 하는 경우가 생긴다. 이...</p></div></div></a></div><div class="card"> <a href="/posts/ActionBar/"><div class="card-body"> <em class="timeago small" date="2022-01-09 20:57:00 +0900" >Jan 9, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Action Bar</h3><div class="text-muted small"><p> 액션바 사용하기 옵션메뉴는 액션바에 포함되어 보이도록 만들어져 있다. 액션바는 액의 제목(Title)이 보이는 위쪽 부분을 말한다. 옵션 메뉴와 컨텍스트 메뉴는 각각의 액티비티마다 설정할 수 있으므로 액티비티에 추가하고 싶은 경우에는 다음이 두 메서드를 다시 정의하여 메뉴 아이템을 추가할 수 있다. 1 2 3 public boolean onC...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/LifeCycle/" class="btn btn-outline-primary" prompt="Older"><p>Activity Life Cycle</p></a> <a href="/posts/ViewFragment/" class="btn btn-outline-primary" prompt="Newer"><p>프래그먼트로 화면 만들기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://instagram.com/casio2978">Se Young Park</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/backjoon/">backjoon</a> <a class="post-tag" href="/tags/layout/">layout</a> <a class="post-tag" href="/tags/bfs/">BFS</a> <a class="post-tag" href="/tags/dfs/">DFS</a> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/level1/">level1</a> <a class="post-tag" href="/tags/anroid/">anroid</a> <a class="post-tag" href="/tags/implements/">implements</a> <a class="post-tag" href="/tags/greedy/">greedy</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-M2M35DP38G"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-M2M35DP38G'); }); </script>
